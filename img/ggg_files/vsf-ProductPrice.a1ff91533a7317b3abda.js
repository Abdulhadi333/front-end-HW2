(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{1321:function(t,i,e){"use strict";var r=e(824);e.n(r).a},1322:function(t,i,e){(t.exports=e(320)(!1)).push([t.i,".cart-line{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}[dir] .cart-line{margin:16px 0 0}.cart-line__row{display:-ms-flexbox;display:flex}.cart-line__container{z-index:1}[dir] .cart-line__container{-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,0.15);box-shadow:0 1px 3px 0 rgba(0,0,0,0.15);border-radius:4px;background-color:#fff;padding:16px 16px 8px}.cart-line__item{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.cart-line__col{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}[dir=ltr] .cart-line__col{margin-left:auto}[dir=rtl] .cart-line__col{margin-right:auto}.cart-line__col--center{-ms-flex-pack:center;justify-content:center}.cart-line__col .link{font-weight:bold}[dir] .cart-line__divider{margin:8px 0}[dir] .cart-line__divider--medium{margin:16px 0}.cart-line__divider .divider{display:block}.cart-line__footer{display:-ms-flexbox;display:flex}[dir=ltr] .cart-line__icon{margin:0 4px 0 0}[dir=rtl] .cart-line__icon{margin:0 0 0 4px}.cart-line__icon .icon{fill:#42526e;width:10px;height:10px}.cart-line__link{color:#3c4858;font-weight:bold;font-size:12px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}[dir=ltr] .cart-line__link{margin:0 8px 0 0}[dir=rtl] .cart-line__link{margin:0 0 0 8px}@media all and (min-width: 768px){[dir=ltr] .cart-line__link{margin:0 16px 0 0}[dir=rtl] .cart-line__link{margin:0 0 0 16px}}.cart-line__link--red{color:#f70008}.cart-line__link--red .icon{fill:#f70008}[dir=ltr] .cart-line__link--right{margin:0 0 0 auto}[dir=rtl] .cart-line__link--right{margin:0 auto 0 0}.cart-line__vat{color:#8492a6;font-size:12px}[dir=ltr] .cart-line__vat{margin-left:auto}[dir=rtl] .cart-line__vat{margin-right:auto}.cart-line__image{width:32px}[dir=ltr] .cart-line__image{margin:0 16px 0 0}[dir=rtl] .cart-line__image{margin:0 0 0 16px}.cart-line__title{width:60%}[dir=ltr] .cart-line__title{text-align:left}[dir=rtl] .cart-line__title{text-align:right}.notification--success .cart-line__title{width:auto}.cart-line__title--small{font-size:14px}.cart-line__title--small .price{font-size:14px}.cart-line__sub-title{font-size:12px}.cart-line__price{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}[dir=ltr] .cart-line__price{text-align:right}[dir=rtl] .cart-line__price{text-align:left}.cart-line__price .price{font-size:28px}.cart-line__price .price--old{font-size:10px}.cart-line__price .price-box__row{-ms-flex-pack:end;justify-content:flex-end}.cart-line__price .price--old-red{font-size:18px}.cart-line__gift{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}.cart-line__input{width:48px}.cart-line__qty{font-weight:bold;color:#273444;font-size:12px}[dir] .cart-line__qty{margin:8px 0 0}[dir=ltr] .cart-line__qty{text-align:right}[dir=rtl] .cart-line__qty{text-align:left}.cart-line__qty-label{font-size:12px;color:#8492a6;font-weight:normal}.cart-line__gift{display:-ms-flexbox;display:flex}[dir] .cart-line--sub{margin:0}.cart-line--sub .cart-line__container{z-index:0}[dir] .cart-line--sub .cart-line__container{margin-top:-4px;background-color:#eff2f7;padding-bottom:16px}[dir] .cart-line--slider{margin:0}[dir=ltr] .cart-line--slider{padding:2px 16px 3px 2px}[dir=rtl] .cart-line--slider{padding:2px 2px 3px 16px}[dir] .checkout-onepage-success .cart-line, [dir] .checkout-onepage-selectpayment .cart-line, [dir] .checkout-onepage-index .cart-line{margin:8px 0 0 0}.cart-line--second .price__currency{font-size:16px;color:#42526e}.cart-line--second .vat{font-size:10px;color:#8492a6}.cart-line--second .cart-line__old-price{display:-ms-flexbox;display:flex;-ms-flex-direction:row-reverse;flex-direction:row-reverse}[dir] .cart-line--second .cart-line__old-price .badge--discount{margin:0 8px}.cart-line--second .cart-line__link{font-weight:500;font-size:16px}[dir] .cart-line--second .cart-line__link{padding:8px;border-radius:4px;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,0.15);box-shadow:0 1px 3px 0 rgba(0,0,0,0.15)}.cart-line--second .cart-line__link .icon{width:15px;height:15px}.cart-line--second .cart-line__link--red{color:#fff}[dir] .cart-line--second .cart-line__link--red{background:#f70008;margin:0}.cart-line--second .cart-line__link--red .icon{fill:#fff}[dir=ltr] .cart-line--second .cart-line__qty{margin:0 32px 0 auto}[dir=rtl] .cart-line--second .cart-line__qty{margin:0 auto 0 32px}[dir] .cart-line--second .cart-line__qty .select__container{background-color:#fff;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,0.15);box-shadow:0 1px 3px 0 rgba(0,0,0,0.15)}\n",""])},1504:function(t,i,e){"use strict";e.r(i);var r=e(793),c=e(801),n=e(85),a=e(204),o=e(6);function l(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);i&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,r)}return e}function p(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var s={name:"ProductPrice",components:{Price:function(){return{component:e.e(127).then(e.bind(null,644))}},Badge:function(){return{component:e.e(63).then(e.bind(null,845))}},Notification:function(){return{component:Promise.all([e.e(1),e.e(0),e.e(122)]).then(e.bind(null,613))}},Icon:e(598).a},props:{product:{type:Object,default:function(){return{}}},customOptions:{type:Object,default:function(){return{}}},isPdp:{type:Boolean,default:!1},showBadge:{type:Boolean,default:!0},isListView:{type:Boolean,default:!1},internationalShipping:{type:Boolean,default:!1},giftItem:{type:Boolean,default:!1},calculateQty:{type:Boolean,default:!1},isOxPromo:{type:Boolean,default:!1},isOxGiftPromo:{type:Boolean,default:!1}},mounted:function(){this.product.relatedProductPrice&&this.isRelatedProduct()},watch:{$route:function(){this.product.relatedProductPrice&&this.isRelatedProduct()}},methods:{getPercentage:function(t,i){return(100-t/i*100).toFixed()},validateSplPrice:function(t){return!!t},isRelatedProduct:function(){this.product.special_price=Number(this.product.relatedProductPrice),this.product.final_price=Number(this.product.relatedProductPrice)}},computed:function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?l(Object(e),!0).forEach((function(i){p(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}({},Object(a.c)({isOrderPlacementEnabled:"getSalesConfigurationsStore/getSiteConfig"}),{discountTag:function(){var t=0;if(this.validateSplPrice(this.product.special_price)&&!this.product.jb_discount_percentage){var i=parseFloat(this.product.special_price),e=parseFloat(this.product.price),r=(e-i)/e;t=Math.trunc(100*parseFloat(r))}return t},productTagData:function(){return"string"==typeof this.product.producttag_data?JSON.parse(this.product.producttag_data):this.product.producttag_data},bundleOptionsPrice:function(){var t=this.product.bundle_options||[],i=Object.values(Object(n.a)(this.product,"product_option.extension_attributes.bundle_options",{}));return Object(c.a)(Object(c.b)(i,t))},customOptionsPriceDelta:function(){return Object(r.c)(Object(r.d)(Object.values(this.customOptions),this.product.custom_options),this.product)},price:function(){var t=this.customOptionsPriceDelta.priceInclTax,i=(this.initialPrice.default+t)*this.product.qty,e=(this.initialPrice.original+t)*this.product.qty,r=this.product.qty>0?(this.initialPrice.default+t)*this.product.qty:this.initialPrice.default;return this.bundleOptionsPrice.priceInclTax>0?{special:i,original:e,default:this.bundleOptionsPrice.priceInclTax}:{special:i,original:e,default:r}},initialPrice:function(){return{default:this.product.price_incl_tax||this.product.priceInclTax||0,original:this.product.original_price_incl_tax||this.product.originalPriceInclTax||0,special:this.product.special_price||this.product.specialPrice||0}},storeView:function(){return Object(o.b)()}})},d=(e(1321),e(243)),u=Object(d.a)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:{"ox-exclusive-price":t.isOxPromo||t.isOxGiftPromo}},[e("div",{class:["price-box",{"price-box--pdp":t.isPdp,"price-box--list-view":t.isListView}]},[[t.isOxPromo?e("div",{staticClass:"price-box__row"},[e("div",{staticClass:"price-box__column price-box__col--price"},[e("price",{class:{"price--pdp":t.isPdp},attrs:{price:t.product.ox_final_price}}),t._v(" "),e("price",{staticClass:"price normal-price",attrs:{price:t.product.price}}),t._v(" "),t.isListView?t._e():e("div",{staticClass:"price-box__vat"},[t._v("\n            "+t._s(t.internationalShipping?t.$t("Exclusive of VAT"):t.$t("Inclusive of VAT"))+"\n          ")])],1),t._v(" "),e("div",{staticClass:"price-box__col price-box__col--discount"},[e("price",{staticClass:"price--old-red",attrs:{price:t.product.price}})],1)]):t._e(),t._v(" "),t.giftItem||t.isOxPromo?t._e():e("div",{staticClass:"price-box__row"},[t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.final_price)>0?e("price",{class:{"price--pdp":t.isPdp},attrs:{price:t.calculateQty?t.product.special_price*t.product.qty:t.product.special_price}}):t._e(),t._v(" "),t.isListView?t._e():[t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.final_price)>0&&t.product.jb_discount_percentage>0?e("badge",{staticClass:"badge--discount",attrs:{text:"-"+t.product.jb_discount_percentage+"%"}}):!t.product.jb_discount_percentage&&t.discountTag>0?e("badge",{staticClass:"badge--discount",attrs:{text:"-"+t.discountTag+"%"}}):t._e()]],2),t._v(" "),!t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.final_price)>0&&!t.giftItem&&!t.isOxPromo?e("div",{staticClass:"price-box__row"},[e("price",{class:{"price--pdp":t.isPdp},attrs:{price:t.calculateQty?t.product.final_price*t.product.qty:t.product.final_price}})],1):t._e(),t._v(" "),t.validateSplPrice(t.product.special_price)||0!=parseFloat(t.product.final_price)||t.giftItem||t.isOxPromo?t._e():e("div",{staticClass:"price-box__row"},[e("price",{class:{"price--pdp":t.isPdp},attrs:{price:t.calculateQty?t.product.price*t.product.qty:t.product.price}})],1),t._v(" "),t.giftItem&&!t.isOxPromo?e("div",{staticClass:"price-box__row"},[e("div",{staticClass:"cart-line__gift"},[e("icon",{staticClass:"gift__icon",attrs:{"icon-id":"gift"}}),t._v(" "),e("span",{staticClass:"price price--green"},[t._v(t._s(t.$t("Free")))])],1)]):t._e(),t._v(" "),t.isListView?e("div",{staticClass:"price-box__row"},["DIGITAL"==t.product.fulfilment_type||t.giftItem?t._e():e("div",{staticClass:"price-box__vat"},[t._v("\n          "+t._s(t.internationalShipping?t.$t("Exclusive of VAT"):t.$t("Inclusive of VAT"))+"\n        ")])]):t._e(),t._v(" "),t.isOxPromo?t._e():e("div",{staticClass:"price-box__row"},[t.isListView||"DIGITAL"==t.product.fulfilment_type||t.giftItem?t._e():e("div",{staticClass:"price-box__vat"},[t._v("\n          "+t._s(t.internationalShipping?t.$t("Exclusive of VAT"):t.$t("Inclusive of VAT"))+"\n        ")]),t._v(" "),t.isListView&&!t.giftItem?[t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.final_price)>0&&t.product.jb_discount_percentage>0?e("badge",{staticClass:"badge--discount",attrs:{text:"-"+t.product.jb_discount_percentage+"%"}}):!t.product.jb_discount_percentage&&t.discountTag>0?e("badge",{staticClass:"badge--discount",attrs:{text:"-"+t.discountTag+"%"}}):t._e()]:t._e(),t._v(" "),!t.isOxPromo&&t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.price)>0&&parseFloat(t.product.special_price)!==parseFloat(t.product.price)||t.giftItem?e("price",{staticClass:"price--old-red",attrs:{price:t.calculateQty?t.product.regular_price*t.product.qty:t.product.regular_price}}):t._e()],2)],t._v(" "),t.showBadge&&"1"===String(t.product.international_shipping)&&t.isOrderPlacementEnabled.isEnabled?e("Notification",{staticClass:"notification--info mt8",attrs:{show:!0,icon:"international-shipping",content:t.$t("Available for Global Shipping")}}):t._e(),t._v(" "),t.productTagData&&t.showBadge?[t._l(t.productTagData,(function(i,r){return["29"===i.id?e("badge",{key:r,staticClass:"badge--neon",attrs:{text:i.label}}):t._e()]}))]:t._e()],2)])}),[],!1,null,null,null);i.default=u.exports},793:function(t,i,e){"use strict";e.d(i,"b",(function(){return r})),e.d(i,"a",(function(){return c})),e.d(i,"e",(function(){return n})),e.d(i,"d",(function(){return a})),e.d(i,"c",(function(){return o}));var r=function(t){switch(t.type){case"radio":return t.values&&t.values.length?t.values[0].option_type_id:0;case"checkbox":return[];default:return""}},c=function(t){return"customOption_"+t.option_id},n=function(t,i,e){switch(void 0===i&&(i=[]),t){case"field":return e;case"radio":case"select":case"drop_down":var r=i.find((function(t){return t.option_type_id===e})),c=r&&r.option_type_id;return c?String(c):null;case"checkbox":var n=e||[];return i.filter((function(t){return n.includes(t.option_type_id)})).map((function(t){return t.option_type_id})).join(",")||null;default:return null}},a=function(t,i){return t.filter((function(t){return t.option_value})).map((function(t){var e=i.find((function(i){return String(i.option_id)===String(t.option_id)})).values,r=void 0===e?[]:e;return t.option_value.split(",").map((function(t){return r.find((function(i){return String(i.option_type_id)===t}))})).filter(Boolean)})).reduce((function(t,i){return t.concat(i)}),[])},o=function(t,i){var e=i.price,r=i.priceInclTax;return t.reduce((function(t,i){return"fixed"===i.price_type&&0!==i.price&&(t.price+=i.price,t.priceInclTax+=i.price),"percent"===i.price_type&&0!==i.price&&(t.price+=i.price/100*e,t.priceInclTax+=i.price/100*r),t}),{price:0,priceInclTax:0})}},801:function(t,i,e){"use strict";e.d(i,"a",(function(){return n})),e.d(i,"b",(function(){return a}));var r=e(0),c=e(85),n=function(t){return t.map((function(t){var i=Object(c.a)(t,"product",{});return function(t){var i=t.price,e=void 0===i?1:i,r=t.priceInclTax,c=void 0===r?1:r,n=t.qty,a=void 0===n?"1":n,o={price:0,priceInclTax:0};return parseInt(a)>=0&&(o.price+=e*parseInt(a),o.priceInclTax+=c*parseInt(a)),o}({price:i.price,priceInclTax:i.price_incl_tax||i.priceInclTax,qty:t.qty})})).reduce((function(t,i){return{price:i.price+t.price,priceInclTax:i.priceInclTax+t.priceInclTax}}),{price:0,priceInclTax:0})},a=function(t,i){return t.map((function(t){var e=(i.find((function(i){return i.option_id===t.option_id}))||{}).product_links,c=(void 0===e?[]:e).find((function(i){return String(i.id)===String(t.option_selections[0])}))||{};return Object(r.a)(Object(r.a)({},c),{qty:t.option_qty})}))}},824:function(t,i,e){var r=e(1322);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,e(321).default)("165a21e0",r,!0,{})}}]);
//# sourceMappingURL=vsf-ProductPrice.a1ff91533a7317b3abda.js.map