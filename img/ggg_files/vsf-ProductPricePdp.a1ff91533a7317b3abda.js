(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{2115:function(t,e,i){"use strict";i.r(e);var r=i(793),c=i(801),o=i(85),p=i(204);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s={name:"ProductPrice",components:{Icon:i(598).a,Price:function(){return{component:Promise.resolve().then(i.bind(null,644))}},Badge:function(){return{component:i.e(63).then(i.bind(null,845))}}},props:{product:{type:Object,default:function(){return{}}},customOptions:{type:Object,default:function(){return{}}},isPdp:{type:Boolean,default:!1},showBadge:{type:Boolean,default:!0},isListView:{type:Boolean,default:!1},internationalShipping:{type:Boolean,default:!1},isOxPromo:{type:Boolean,default:!1},isOxGiftPromo:{type:Boolean,default:!1}},mounted:function(){this.product.relatedProductPrice&&this.isRelatedProduct()},watch:{$route:function(){this.product.relatedProductPrice&&this.isRelatedProduct()}},methods:{getPercentage:function(t,e){return(100-t/e*100).toFixed()},validateSplPrice:function(t){return!!t},isRelatedProduct:function(){this.product.special_price=Number(this.product.relatedProductPrice),this.product.final_price=Number(this.product.relatedProductPrice)}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(p.c)({isOrderPlacementEnabled:"getSalesConfigurationsStore/getSiteConfig"}),{discountTag:function(){var t=0;if(this.validateSplPrice(this.product.special_price)&&!this.product.jb_discount_percentage){var e=parseFloat(this.product.special_price),i=parseFloat(this.product.price),r=(i-e)/i;t=Math.trunc(100*parseFloat(r))}return t},productTagData:function(){return"string"==typeof this.product.producttag_data?JSON.parse(this.product.producttag_data):this.product.producttag_data},bundleOptionsPrice:function(){var t=this.product.bundle_options||[],e=Object.values(Object(o.a)(this.product,"product_option.extension_attributes.bundle_options",{}));return Object(c.a)(Object(c.b)(e,t))},customOptionsPriceDelta:function(){return Object(r.c)(Object(r.d)(Object.values(this.customOptions),this.product.custom_options),this.product)},price:function(){var t=this.customOptionsPriceDelta.priceInclTax,e=(this.initialPrice.default+t)*this.product.qty,i=(this.initialPrice.original+t)*this.product.qty,r=this.product.qty>0?(this.initialPrice.default+t)*this.product.qty:this.initialPrice.default;return this.bundleOptionsPrice.priceInclTax>0?{special:e,original:i,default:this.bundleOptionsPrice.priceInclTax}:{special:e,original:i,default:r}},initialPrice:function(){return{default:this.product.price_incl_tax||this.product.priceInclTax||0,original:this.product.original_price_incl_tax||this.product.originalPriceInclTax||0,special:this.product.special_price||this.product.specialPrice||0}}})},u=i(243),l=Object(u.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"ox-exclusive-price":t.isOxPromo||t.isOxGiftPromo}},[i("div",{class:["price-box",{"price-box--pdp":t.isPdp}]},[[t.isOxPromo?i("div",{staticClass:"price-box__row"},[i("div",{staticClass:"price-box__column price-box__col--price"},[parseFloat(t.product.ox_final_price)>0?i("price",{class:{"price--pdp":t.isPdp},attrs:{price:t.product.ox_final_price}}):t._e(),t._v(" "),parseFloat(t.product.price)>0?i("price",{staticClass:"price normal-price",attrs:{price:t.product.price}}):t._e(),t._v(" "),parseFloat(t.product.final_price)>0?i("div",{staticClass:"price-box__vat"},[t._v("\n            "+t._s(t.internationalShipping?t.$t("Exclusive of VAT"):t.$t("Inclusive of VAT"))+"\n          ")]):t._e()],1),t._v(" "),i("div",{staticClass:"price-box__col price-box__col--discount"},[parseFloat(t.product.price)>0?i("price",{staticClass:"price--old-red",attrs:{price:t.product.price}}):t._e()],1)]):t._e(),t._v(" "),t.isOxPromo?t._e():i("div",{staticClass:"price-box__row"},[t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.final_price)>0?i("div",{staticClass:"price-box__column"},[parseFloat(t.product.special_price)>0?i("price",{class:{"price--pdp":t.isPdp},attrs:{price:t.product.special_price}}):t._e(),t._v(" "),!t.isListView&&"DIGITAL"!=t.product.fulfilment_type&&parseFloat(t.product.final_price)>0?i("div",{staticClass:"price-box__vat"},[t._v("\n            "+t._s(t.internationalShipping?t.$t("Exclusive of VAT"):t.$t("Inclusive of VAT"))+"\n          ")]):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"price-box__column price-box__column--align-start ml4"},[t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.final_price)>0&&t.product.jb_discount_percentage>0?i("badge",{staticClass:"badge--discount",attrs:{text:"-"+t.product.jb_discount_percentage+"%"}}):!t.product.jb_discount_percentage&&t.discountTag>0?i("badge",{staticClass:"badge--discount",attrs:{text:"-"+t.discountTag+"%"}}):t._e(),t._v(" "),t.validateSplPrice(t.product.special_price)&&parseFloat(t.product.price)>0&&parseFloat(t.product.special_price)!==parseFloat(t.product.price)?i("price",{staticClass:"price--old-red",attrs:{price:t.product.regular_price}}):t._e()],1)]),t._v(" "),t.isOxPromo||t.validateSplPrice(t.product.special_price)?t._e():i("div",{staticClass:"price-box__row"},[i("div",{staticClass:"price-box__column"},[parseFloat(t.product.final_price)>0?i("price",{class:{"price--pdp":t.isPdp},attrs:{price:t.product.final_price}}):t._e(),t._v(" "),!t.isListView&&"DIGITAL"!=t.product.fulfilment_type&&parseFloat(t.product.final_price)>0?i("div",{staticClass:"price-box__vat"},[t._v("\n            "+t._s(t.internationalShipping?t.$t("Exclusive of VAT"):t.$t("Inclusive of VAT"))+"\n          ")]):t._e()],1)]),t._v(" "),t.isOxGiftPromo||t.isOxPromo?i("div",{staticClass:"ox-exclusive-price__store"},[i("icon",{staticClass:"ox-exclusive-price__icon",attrs:{"icon-id":"store"}}),t._v(" "),i("p",{staticClass:"price"},[t._v("\n          "+t._s(t.$t("Showroom price"))+":\n          "),parseFloat(t.product.final_price)>0?i("price",{staticClass:"price",attrs:{price:t.product.final_price}}):t._e()],1)],1):t._e()],t._v(" "),t.productTagData&&t.showBadge?i("div",[t._l(t.productTagData,(function(e,r){return["29"===e.id?i("badge",{key:r,staticClass:"badge--neon",attrs:{text:e.label}}):t._e()]}))],2):t._e()],2)])}),[],!1,null,null,null);e.default=l.exports},801:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return p}));var r=i(0),c=i(85),o=function(t){return t.map((function(t){var e=Object(c.a)(t,"product",{});return function(t){var e=t.price,i=void 0===e?1:e,r=t.priceInclTax,c=void 0===r?1:r,o=t.qty,p=void 0===o?"1":o,a={price:0,priceInclTax:0};return parseInt(p)>=0&&(a.price+=i*parseInt(p),a.priceInclTax+=c*parseInt(p)),a}({price:e.price,priceInclTax:e.price_incl_tax||e.priceInclTax,qty:t.qty})})).reduce((function(t,e){return{price:e.price+t.price,priceInclTax:e.priceInclTax+t.priceInclTax}}),{price:0,priceInclTax:0})},p=function(t,e){return t.map((function(t){var i=(e.find((function(e){return e.option_id===t.option_id}))||{}).product_links,c=(void 0===i?[]:i).find((function(e){return String(e.id)===String(t.option_selections[0])}))||{};return Object(r.a)(Object(r.a)({},c),{qty:t.option_qty})}))}}}]);
//# sourceMappingURL=vsf-ProductPricePdp.a1ff91533a7317b3abda.js.map